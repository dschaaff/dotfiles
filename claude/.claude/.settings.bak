{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "cleanupPeriodDays": 365,
  "alwaysThinkingEnabled": true,
  "model": "opus",
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); cwd=$(echo \"$input\" | jq -r '.cwd // empty'); parts=(); [ -n \"$cwd\" ] && parts+=(\"$(echo $cwd | sed \"s|$HOME|~|\")\"); ctx=$(kubectl config current-context 2>/dev/null) && ns=$(kubectl config view --minify -o jsonpath='{..namespace}' 2>/dev/null) && parts+=(\"k8s:${ctx}${ns:+($ns)}\"); branch=$(git -C \"${cwd:-.}\" rev-parse --abbrev-ref HEAD 2>/dev/null) && parts+=(\"git:${branch}\"); profile=${AWS_PROFILE:-${AWS_DEFAULT_PROFILE:-}} && [ -n \"$profile\" ] && parts+=(\"aws:${profile}\"); used=$(echo \"$input\" | jq -r '.context_window.used_percentage // empty'); [ -n \"$used\" ] && parts+=(\"ctx:${used}%\"); echo \"${parts[*]}\""
  },
  "permissions": {
    "deny": [
      "Bash(rm -rf *)",
      "Bash(rm -fr *)",
      "Bash(sudo *)",
      "Bash(mkfs *)",
      "Bash(dd *)",
      "Bash(wget *|bash*)",
      "Bash(wget *| bash*)",
      "Bash(git push --force*)",
      "Bash(git push *--force*)",
      "Bash(git reset --hard*)",
      "Edit(~/.bashrc)",
      "Edit(~/.zshrc)",
      "Edit(~/.ssh/**)",
      "Read(~/.ssh/**)",
      "Read(~/.gnupg/**)",
      "Read(~/.aws/**)",
      "Read(~/.azure/**)",
      "Read(~/.config/gh/**)",
      "Read(~/.git-credentials)",
      "Read(~/.docker/config.json)",
      "Read(~/.kube/**)",
      "Read(~/.npmrc)",
      "Read(~/.npm/**)",
      "Read(~/.pypirc)",
      "Read(~/.gem/credentials)",
      "Read(~/Library/Keychains/**)",
      "Read(~/Library/Application Support/**/metamask*/**)",
      "Read(~/Library/Application Support/**/electrum*/**)",
      "Read(~/Library/Application Support/**/exodus*/**)",
      "Read(~/Library/Application Support/**/phantom*/**)",
      "Read(~/Library/Application Support/**/solflare*/**)"
    ]
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "CMD=$(jq -r '.tool_input.command'); if echo \"$CMD\" | grep -qiE '(^|;[[:space:]]*|&&[[:space:]]*|[|][|][[:space:]]*|[|][[:space:]]*)rm[[:space:]]' && echo \"$CMD\" | grep -qiE '(^|[[:space:]])-[a-zA-Z]*[rR]|--recursive' && echo \"$CMD\" | grep -qiE '(^|[[:space:]])-[a-zA-Z]*[fF]|--force'; then echo 'BLOCKED: Use trash instead of rm -rf' >&2; exit 2; fi"
          }
        ]
      }
    ]
  },
  "enabledPlugins": {
    "code-review@schaaff-claude-code": true,
    "grafana-mcp@cordial-claude-code": true,
    "tofu-terraform@cordial-claude-code": true,
    "php-lsp@claude-plugins-official": true,
    "lua-lsp@claude-plugins-official": true,
    "example-skills@anthropic-agent-skills": true,
    "backstage-platform@cordial-claude-code": true,
    "coderabbit@claude-plugins-official": true,
    "opsgenie@cordial-claude-code": true,
    "brainstorming@schaaff-claude-code": true,
    "alert-debug@cordial-claude-code": true
  }
}
